<!DOCTYPE html>
<html class="dark" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Chat Page with Slack-like Sidebar</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script id="tailwind-config">
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "primary": "#135bec",
              "background-light": "#f6f6f8",
              "background-dark": "#101622",
            },
            fontFamily: {
              "display": ["Inter", "sans-serif"]
            },
            borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
          },
        },
      }
    </script>
<style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display">
<div class="relative flex h-screen w-full flex-row overflow-hidden">
<aside class="flex h-full w-72 flex-shrink-0 flex-col bg-[#111722]">
<div class="flex h-full min-h-0 flex-col justify-between p-4">
<div class="flex flex-col gap-4 overflow-y-auto">
<div class="flex items-center gap-3 p-2">
<div class="flex h-10 w-10 items-center justify-center rounded-lg bg-primary">
<svg class="h-6 w-6 text-white" fill="none" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>
</div>
<div class="flex flex-col">
<h1 id="workspaceName" class="text-white text-base font-medium leading-normal">TalkBridge</h1>
<p id="usernameDisplay" class="text-[#92a4c9] text-sm font-normal leading-normal"></p>
</div>
</div>
<div class="flex flex-col gap-1">
<div class="flex items-center gap-3 px-3 py-2 cursor-pointer text-gray-300 hover:bg-white/10 rounded-lg">
<span class="material-symbols-outlined text-xl">search</span>
<p class="text-white text-sm font-medium leading-normal">Search</p>
</div>
<div class="flex items-center gap-3 px-3 py-2 cursor-pointer text-gray-300 hover:bg-white/10 rounded-lg">
<span class="material-symbols-outlined text-xl">forum</span>
<p class="text-white text-sm font-medium leading-normal">Threads</p>
</div>
<div class="flex items-center gap-3 px-3 py-2 cursor-pointer text-gray-300 hover:bg-white/10 rounded-lg">
<span class="material-symbols-outlined text-xl">alternate_email</span>
<p class="text-white text-sm font-medium leading-normal">All DMs</p>
</div>
<div class="mt-4 mb-2 flex items-center justify-between px-3">
<p class="text-xs font-bold uppercase tracking-wider text-[#92a4c9]">Channels</p>
<button class="text-[#92a4c9] hover:text-white">
<span class="material-symbols-outlined text-lg" onclick="window.location.href='channels.html'">add</span>
</button>
</div>
<div id="channelList" class="flex flex-col gap-1"></div>
</div>
</div>
 <!-- logout button at bottom -->
  <div class="mt-4 pt-4 border-t border-slate-700">
    <button onclick="logout()" 
            class="flex w-full items-center gap-3 px-3 py-2 text-red-400 hover:bg-white/10 hover:text-red-300 rounded-lg transition">
        <span class="material-symbols-outlined text-xl">logout</span>
        <p class="text-sm font-medium">Logout</p>
    </button>
</div>

</div>
</aside>
<main class="flex h-full flex-1 flex-col overflow-hidden bg-background-light dark:bg-background-dark">
<header class="flex h-16 flex-shrink-0 items-center justify-between border-b border-slate-200 dark:border-slate-800 px-6">

   <!-- left-side channel-title -->
     <div class="flex items-center gap-2">
        <span class="material-symbols-outlined text-lg font-bold text-slate-500 dark:text-slate-400" style="font-variation-settings: 'FILL' 1;">tag</span>
        <h2 id="channelTitle" class="text-slate-900 dark:text-white text-lg font-bold"></h2>
    </div> 

    <!-- RIGHT SIDE â€” ONLINE USERS -->
     <div class="flex items-center gap-4">
         <!-- online avatars here -->
         <div id="onlineUsers" class="flex -space-x-2"></div>

        <button class="text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200">
            <span class="material-symbols-outlined">more_vert</span>
        </button>
    </div>
</header> 
<!-- Content + input wrapper -->
<div class="flex flex-col flex-1 overflow-hidden">
<div id="messagesContainer" class="flex-1 overflow-y-auto p-6"></div>

<div class="flex-shrink-0 border-t border-slate-200 dark:border-slate-800 p-4">

<div class="relative">
    <textarea id="messageInput"
        class="form-textarea w-full resize-none rounded-lg border-slate-300 dark:border-slate-700 
        bg-white dark:bg-[#192233] text-slate-800 dark:text-white 
        placeholder:text-slate-400 focus:border-primary focus:ring-primary
        pr-16"
        placeholder="Message"
        rows="2"></textarea> 

    <div class="absolute bottom-2 right-2 flex items-center gap-2 z-50">
        <button class="p-1 text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200">
            <span class="material-symbols-outlined">alternate_email</span>
        </button>
        <button class="p-1 text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200">
            <span class="material-symbols-outlined">sentiment_satisfied</span>
        </button>
        <button id="sendBtn" class="rounded-full bg-primary p-2 text-white hover:bg-primary/90 disabled:opacity-50">
            <span class="material-symbols-outlined">send</span>
        </button>
    </div> 
</div>
</div>
</div>
</main>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script src="supabase.js"></script>
<script src="channels.js"></script>
<script type="module" src="chat.js"></script>
</body></html>